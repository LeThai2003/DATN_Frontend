import{m as d,a as T,c as i,c9 as z,ca as A,cb as I,cc as L,j as e,L as C,K as P,P as R,ac as _,ad as H,ae as $,af as K,ak as r,aj as u,al as B,bs as b,T as W,i as v,U as Y,cd as E,ce as w,O as N,Q as k,aa as Q,ab as S}from"./index-aTwABVSH.js";import{a as M,F as U}from"./FilterForm-BPxyaOJU.js";import{R as V}from"./EditOutlined-B1FSiga7.js";const q=()=>{const[o,c]=d.useState(!1),t=T(),l=i(z),h=i(A),n=i(I);d.useEffect(()=>{t(L())},[]);const x=[{title:"Thời gian bắt đầu",dataIndex:"startTime",key:"start_time",align:"center",width:200},{title:"Thời gian kết thúc",dataIndex:"endTime",key:"end_time",align:"center",width:200}],m=[{key:"search",type:"text",placeholder:"Tìm kiếm thời gian"}],f=(y,j)=>{},p=()=>{},g=()=>{};return e.jsxs("div",{className:"p-2 bg-white rounded-lg flex flex-col gap-3 relative",children:[h&&e.jsx(C,{}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Danh sách thời gian lịch khám"}),e.jsx("div",{className:"flex gap-2"})]}),o&&e.jsx(M,{fields:m,values:n,onChange:f,onReset:p,onApply:g,onClose:()=>c(!1)}),e.jsx(P,{columns:x,dataSource:l==null?void 0:l.data,rowKey:"id",bordered:!0,pagination:!1,scroll:{x:"max-content",y:window.innerHeight*.82-160}}),e.jsx("div",{className:"flex justify-end",children:e.jsx(R,{current:0,pageSize:10,onChange:y=>{},total:1})})]})},G=()=>{var F;const[o,c]=d.useState(!1),t=T(),l=i(_),h=i(I),n=i(H),x=i($);d.useEffect(()=>{t(K())},[]);const m=s=>{t(E.setFilterWeekDay({...w,employeeIds:[s==null?void 0:s.employeeId]})),t(N.setShowModal({type:k.SHIFT_EMPLOYEE,variant:"view",data:s}))},f=s=>{t(E.setFilterWeekDay({...w,employeeIds:[s==null?void 0:s.employeeId]})),t(N.setShowModal({type:k.SHIFT_EMPLOYEE,variant:"edit",data:s}))},p=[{title:"Họ tên",dataIndex:"fullName",key:"fullName",width:350,render:(s,a)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:a.avatar,alt:a.fullName,style:{width:32,height:32,borderRadius:"50%",objectFit:"cover"}}),e.jsx("span",{children:a.fullName})]})},{title:"Số điện thoại",dataIndex:"phoneNumber",key:"phoneNumber",width:120},{title:"Chuyên khoa",dataIndex:["specialization","name"],key:"specialization"},{title:"Hành động",key:"actions",width:110,align:"center",render:(s,a)=>(b(h.time).isBefore(b(),"day"),e.jsxs(W,{size:"small",children:[e.jsx(v,{color:"primary",variant:"filled",icon:e.jsx(Y,{}),onClick:()=>{m(a)},className:"",size:"small"}),e.jsx(v,{type:"primary",icon:e.jsx(V,{}),onClick:()=>f(a),className:"bg-blue-500 hover:bg-blue-600",size:"small"})]}))}],g=[{key:"search",type:"text",placeholder:"Tìm bác sĩ"}],y=(s,a)=>{t(u.setFilterEmployee({...l,[s]:a})),t(r())},j=()=>{t(u.setFilterEmployee({...B})),t(r())},D=()=>{t(r())},O=s=>{t(u.setFilterEmployee({...l,pageNo:s-1})),t(r())};return e.jsxs("div",{className:"p-2 bg-white rounded-lg flex flex-col gap-3 relative",children:[x&&e.jsx(C,{}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Mẫu lịch làm việc"}),e.jsx("div",{className:"flex gap-2",children:!o&&e.jsx(U,{onClick:()=>c(!0)})})]}),o&&e.jsx(M,{fields:g,values:l,onChange:y,onReset:j,onApply:D,onClose:()=>c(!1)}),e.jsx(P,{columns:p,dataSource:(F=n==null?void 0:n.data)==null?void 0:F.filter(s=>(s==null?void 0:s.status)!="DELETE"&&(s==null?void 0:s.nameRole)!="ROLE_ADMIN"),rowKey:"id",bordered:!0,pagination:!1,scroll:{x:"max-content",y:window.innerHeight*.82-160}}),e.jsx("div",{className:"flex justify-end",children:e.jsx(R,{current:0,pageSize:10,onChange:s=>{O(s)},total:1})})]})},ee=()=>e.jsx("div",{children:e.jsxs(Q,{defaultActiveKey:"1",children:[e.jsx(S,{tab:"Mẫu lịch làm",children:e.jsx(G,{})},"1"),e.jsx(S,{tab:"Thời gian",children:e.jsx(q,{})},"2")]})});export{ee as default};
