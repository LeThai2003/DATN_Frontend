import{a as w,c as m,aV as v,aW as P,aX as t,j as e,aQ as I,aa as N,ab as x,aH as k,aR as a,ax as p,aY as l,i as u,aP as C,aZ as D}from"./index-aTwABVSH.js";import{W as T}from"./WelcomeCard-CxxHqPHy.js";const V=()=>{var c,d;const o=w(),j=m(v),s=m(P),[n]=t.useForm(),b=r=>{console.log(r);const i={newPass:r.newPassword,oldPass:r.oldPassword};o(D({data:i,id:s==null?void 0:s.employeeId,reset:n.resetFields}))},g=()=>{n.resetFields()};return e.jsx("div",{className:"relative",children:e.jsx("div",{className:"container min-h-screen",children:e.jsxs("div",{className:"pt-2",children:[e.jsx(T,{name:`QL. ${s==null?void 0:s.fullName}`}),e.jsx("section",{className:"py-2",children:e.jsx(I,{title:"Tài khoản cá nhân",children:e.jsxs(N,{defaultActiveKey:"1",children:[e.jsxs(x,{tab:"Thông tin tài khoản",children:[(s==null?void 0:s.avatar)&&e.jsx("div",{className:"my-2 w-[80px] h-[80px] rounded-md overflow-hidden",children:e.jsx(k,{src:s==null?void 0:s.avatar,alt:s==null?void 0:s.fullName,className:"object-cover w-full h-full"})}),e.jsxs(a,{bordered:!0,column:{xs:1,sm:2},labelStyle:{fontWeight:600},children:[e.jsx(a.Item,{label:"Họ tên",children:s==null?void 0:s.fullName}),e.jsx(a.Item,{label:"Giới tính",children:(s==null?void 0:s.gender)===!0?"Nam":"Nữ"}),e.jsx(a.Item,{label:"Chuyên khoa",children:(c=s==null?void 0:s.specialization)==null?void 0:c.name}),e.jsx(a.Item,{label:"Email",children:s==null?void 0:s.email}),e.jsx(a.Item,{label:"Số CCCD",children:s==null?void 0:s.citizenId}),e.jsx(a.Item,{label:"Phòng làm việc",children:(d=s==null?void 0:s.roomDto)==null?void 0:d.name}),e.jsx(a.Item,{label:"Ngày vào làm",children:new Date(s==null?void 0:s.hiredDate).toLocaleDateString("vi-VN")}),e.jsx(a.Item,{label:"Địa chỉ",children:s==null?void 0:s.address})]})]},"1"),e.jsx(x,{tab:"Thay đổi mật khẩu",children:e.jsxs("div",{className:"relative mt-4 p-4 rounded-md bg-slate-50",children:[j&&e.jsx("div",{className:"absolute flex items-center justify-center z-20 inset-0 bg-white/40",children:e.jsx(p,{})}),e.jsxs(t,{form:n,layout:"vertical",onFinish:b,style:{maxWidth:400},children:[e.jsx(t.Item,{label:"Mật khẩu hiện tại",name:"oldPassword",rules:[{required:!0,message:"Vui lòng nhập mật khẩu hiện tại."}],children:e.jsx(l.Password,{})}),e.jsx(t.Item,{label:"Mật khẩu mới",name:"newPassword",rules:[{required:!0,message:"Vui lòng nhập mật khẩu mới"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]).+$/,message:"Mật khẩu phải chứa ít nhất 1 chữ hoa, 1 chữ thường, 1 số và 1 ký tự đặc biệt."}],children:e.jsx(l.Password,{})}),e.jsx(t.Item,{label:"Xác nhận mật khẩu mới",name:"confirmPassword",dependencies:["newPassword"],rules:[{required:!0,message:"Vui lòng nhập xác nhận mật khẩu mới."},({getFieldValue:r})=>({validator(i,h){return!h||r("newPassword")===h?Promise.resolve():Promise.reject(new Error("Xác nhận mật khẩu chưa chính xác!"))}})],children:e.jsx(l.Password,{})}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 border-t border-gray-200 pt-4",children:[e.jsx(t.Item,{className:"mb-0",children:e.jsx(u,{type:"primary",htmlType:"submit",children:"Đổi mật khẩu"})}),e.jsx(t.Item,{className:"mb-0",children:e.jsx(C,{title:"Làm mới các trường.",children:e.jsx(u,{variant:"dashed",color:"primary",onClick:g,children:"Hoàn tác"})})})]})]})]})},"2")]})})})]})})})};export{V as default};
