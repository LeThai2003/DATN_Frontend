import{a as E,c as p,aB as k,aC as R,aD as N,m,ai as b,j as e,L as M,i as c,K as O,P,aE as n,O as r,Q as o,aF as d,aG as V,aH as D,T as z,U as T,V as A,aI as B}from"./index-aTwABVSH.js";import{F as H,a as $}from"./FilterForm-BPxyaOJU.js";import{R as G}from"./EditOutlined-B1FSiga7.js";const U=()=>{const t=E(),s=p(k),S=p(R),i=p(N),[h,x]=m.useState(!1);m.useEffect(()=>{t(b())},[]);const v=a=>{t(n.setSelectService(a)),t(r.setShowModal({type:o.SERVICE,variant:"edit",data:a}))},g=a=>{t(n.setSelectService(a)),t(r.setShowModal({type:o.SERVICE,variant:"delete",data:a}))},f=()=>{t(n.setSelectService(null)),t(r.setShowModal({type:o.SERVICE,variant:"add",data:null}))},y=a=>{t(B({id:a.serviceId,params:{}})),t(r.setShowModal({type:o.SERVICE,variant:"view",data:a}))},j=[{title:"Dịch vụ",dataIndex:"name",key:"name"},{title:"Hình ảnh",dataIndex:"image",key:"image",render:(a,l)=>e.jsx("div",{className:"w-[100px] h-[80px] flex items-center",children:e.jsx(D,{src:a})})},{title:"Mô tả",dataIndex:"description",key:"description",ellipsis:!0,onCell:()=>({style:{maxWidth:200,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})},{title:"Giá (VNĐ)",dataIndex:"price",width:100,key:"price",render:a=>a.toLocaleString()},{title:"Hành động",key:"actions",width:"150px",render:(a,l)=>e.jsxs(z,{size:"small",children:[e.jsx(c,{color:"primary",variant:"filled",icon:e.jsx(T,{}),onClick:()=>{y(l)},className:"",size:"small"}),e.jsx(c,{type:"primary",icon:e.jsx(G,{}),onClick:()=>{v(l)},className:"bg-blue-500 hover:bg-blue-600",size:"small"}),e.jsx(c,{danger:!0,icon:e.jsx(A,{}),onClick:()=>{g(l)},size:"small"})]})}],u=[{key:"search",type:"text",placeholder:"Tìm kiếm dịch vụ"}],w=(a,l)=>{t(n.setFilterService({...i,[a]:l})),t(d())},F=()=>{t(n.setFilterService({...V})),t(d())},I=()=>{t(d())},C=a=>{t(n.setFilterService({...i,pageNo:a-1})),t(d())};return e.jsxs("div",{className:"relative p-2 bg-white rounded-lg flex flex-col gap-3",children:[S&&e.jsx(M,{}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Danh sách dịch vụ"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{type:"primary",onClick:f,children:"+ Thêm mới"}),!h&&e.jsx(H,{onClick:()=>x(!0)})]})]}),h&&e.jsx($,{fields:u,values:i,onChange:w,onReset:F,onApply:I,onClose:()=>x(!1)}),e.jsx(O,{columns:j,dataSource:(s==null?void 0:s.data)||[],rowKey:"serviceId",pagination:!1,scroll:{x:"max-content",y:window.innerHeight*.82-120}}),e.jsx("div",{className:"flex justify-end",children:e.jsx(P,{current:(i==null?void 0:i.pageNo)+1||0,pageSize:10,onChange:a=>{C(a)},total:(s==null?void 0:s.totalPage)*10||1})})]})};export{U as default};
