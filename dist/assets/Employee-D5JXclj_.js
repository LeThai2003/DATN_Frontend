import{a as I,m as g,c as p,ac as O,ad as P,ae as z,af as R,ag as M,ah as A,ai as L,j as e,L as D,i as o,K as H,P as V,aj as l,O as c,Q as r,ak as m,al as $,am as B,T as E,U as j,an as Y}from"./index-aTwABVSH.js";import{F as _,a as K,C as Q}from"./FilterForm-BPxyaOJU.js";import{R as U}from"./EditOutlined-B1FSiga7.js";const X=()=>{const a=I(),[x,y]=g.useState(!1),n=p(O),i=p(P),f=p(z);g.useEffect(()=>{a(R()),a(M()),a(A()),a(L())},[]);const k=t=>{a(l.setSelectEmployee(t)),a(c.setShowModal({type:r.EMPLOYEE,variant:"edit",data:t}))},F=t=>{a(l.setSelectEmployee(t)),a(c.setShowModal({type:r.EMPLOYEE,variant:"delete",data:t}))},v=()=>{a(l.setSelectEmployee(null)),a(c.setShowModal({type:r.EMPLOYEE,variant:"add",data:null}))},u=t=>{a(l.setSelectEmployee(t)),a(c.setShowModal({type:r.EMPLOYEE,variant:"view",data:t}))},C=[{title:"Họ tên",dataIndex:"fullName",key:"fullName",render:(t,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:s.avatar,alt:s.fullname,style:{width:32,height:32,borderRadius:"50%",objectFit:"cover"}}),e.jsx("span",{children:s.fullName})]})},{title:"Số điện thoại",dataIndex:"phoneNumber",key:"phoneNumber",width:120},{title:"Vai trò",dataIndex:"nameRole",key:"nameRole",render:t=>t=="ROLE_DOCTOR"?"Bác sĩ":"Quản lý"},{title:"Phòng khám",dataIndex:["roomDto","name"],key:"room"},{title:"Chuyên môn",dataIndex:["specialization","name"],key:"specialization"},{title:"Dịch vụ",dataIndex:"serviceDto",key:"serviceDto",width:100,render:t=>(t==null?void 0:t.length)||0,align:"center"},{title:"Trạng thái",key:"status",width:100,render:(t,s)=>{const d=s==null?void 0:s.status;let h="default";return d==="ACTIVE"?h="green":d==="DELETE"&&(h="red"),e.jsx(B,{color:h,children:d=="ACTIVE"?"Hoạt động":"Khóa"})}},{title:"Hành động",key:"actions",render:(t,s)=>(s==null?void 0:s.status)=="ACTIVE"?e.jsxs(E,{size:"small",children:[e.jsx(o,{color:"primary",variant:"filled",icon:e.jsx(j,{}),onClick:()=>{u(s)},className:"",size:"small"}),e.jsx(o,{type:"primary",icon:e.jsx(U,{}),onClick:()=>{k(s)},className:"bg-blue-500 hover:bg-blue-600",size:"small"}),e.jsx(o,{danger:!0,icon:e.jsx(Q,{size:16}),onClick:()=>{F(s)},size:"small"}),e.jsx("div",{className:"text-gray-300 text-lg",children:"|"}),e.jsx(Y,{title:"Xác nhận đặt lại mật khẩu",description:e.jsxs(e.Fragment,{children:["Bạn có chắc đặt lại mật khẩu cho tài khoản bác sĩ"," ",e.jsxs("b",{children:['"',s.fullName,'"']})," ?"]}),onConfirm:()=>{},okText:"Đồng ý",cancelText:"Hủy",children:e.jsx(o,{color:"danger",variant:"solid",size:"small",children:"Đặt lại mật khẩu"})})]}):e.jsx(E,{size:"small",children:e.jsx(o,{color:"primary",variant:"filled",icon:e.jsx(j,{}),onClick:()=>{u(s)},className:"",size:"small"})})}],N=[{key:"search",type:"text",placeholder:"Tìm bác sĩ"}],b=(t,s)=>{a(l.setFilterEmployee({...n,[t]:s})),a(m())},w=()=>{a(l.setFilterEmployee({...$})),a(m())},S=()=>{a(m())},T=t=>{a(l.setFilterEmployee({...n,pageNo:t-1})),a(m())};return e.jsxs("div",{className:"relative p-2 bg-white rounded-lg flex flex-col gap-3",children:[f&&e.jsx(D,{}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Danh sách bác sĩ"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{type:"primary",onClick:()=>{v()},children:"+ Thêm mới"}),!x&&e.jsx(_,{onClick:()=>y(!0)})]})]}),x&&e.jsx(K,{fields:N,values:n,onChange:b,onReset:w,onApply:S,onClose:()=>y(!1)}),e.jsx(H,{rowKey:"employeeId",columns:C,dataSource:i==null?void 0:i.data,pagination:!1,scroll:{x:"max-content",y:window.innerHeight*.82-160}}),e.jsx("div",{className:"flex justify-end",children:e.jsx(V,{current:(n==null?void 0:n.pageNo)+1||0,pageSize:10,onChange:t=>{T(t)},total:(i==null?void 0:i.totalPage)*10||1})})]})},W=()=>e.jsx("div",{children:e.jsx(X,{})});export{W as default};
