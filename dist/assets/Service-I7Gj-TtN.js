import{a as k,c as p,az as E,aA as N,aB as R,k as m,ag as b,j as e,L as M,h as c,J as P,P as z,aC as n,M as r,N as o,aD as d,aE as D,aF as O,S as V,Q as A,T,aG as B}from"./index-LvNQFVEu.js";import{F as H,a as $}from"./FilterForm-Bc-RFcEQ.js";import{R as G}from"./EditOutlined-CPmZrjv0.js";const Q=()=>{const t=k(),s=p(E),S=p(N),i=p(R),[h,x]=m.useState(!1);m.useEffect(()=>{t(b())},[]);const v=a=>{t(n.setSelectService(a)),t(r.setShowModal({type:o.SERVICE,variant:"edit",data:a}))},g=a=>{t(n.setSelectService(a)),t(r.setShowModal({type:o.SERVICE,variant:"delete",data:a}))},f=()=>{t(n.setSelectService(null)),t(r.setShowModal({type:o.SERVICE,variant:"add",data:null}))},y=a=>{t(B({id:a.serviceId,params:{}})),t(r.setShowModal({type:o.SERVICE,variant:"view",data:a}))},j=[{title:"Dịch vụ",dataIndex:"name",key:"name"},{title:"Hình ảnh",dataIndex:"image",key:"image",render:(a,l)=>e.jsx("div",{className:"w-[100px] h-[80px] flex items-center",children:e.jsx(O,{src:a})})},{title:"Mô tả",dataIndex:"description",key:"description",ellipsis:!0,onCell:()=>({style:{maxWidth:200,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})},{title:"Giá (VNĐ)",dataIndex:"price",width:100,key:"price",render:a=>a.toLocaleString()},{title:"Hành động",key:"actions",width:"150px",render:(a,l)=>e.jsxs(V,{size:"small",children:[e.jsx(c,{color:"primary",variant:"filled",icon:e.jsx(A,{}),onClick:()=>{y(l)},className:"",size:"small"}),e.jsx(c,{type:"primary",icon:e.jsx(G,{}),onClick:()=>{v(l)},className:"bg-blue-500 hover:bg-blue-600",size:"small"}),e.jsx(c,{danger:!0,icon:e.jsx(T,{}),onClick:()=>{g(l)},size:"small"})]})}],u=[{key:"search",type:"text",placeholder:"Tìm kiếm dịch vụ"}],w=(a,l)=>{t(n.setFilterService({...i,[a]:l})),t(d())},F=()=>{t(n.setFilterService({...D})),t(d())},C=()=>{t(d())},I=a=>{t(n.setFilterService({...i,pageNo:a-1})),t(d())};return e.jsxs("div",{className:"relative p-2 bg-white rounded-lg flex flex-col gap-3",children:[S&&e.jsx(M,{}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Danh sách dịch vụ"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{type:"primary",onClick:f,children:"+ Thêm mới"}),!h&&e.jsx(H,{onClick:()=>x(!0)})]})]}),h&&e.jsx($,{fields:u,values:i,onChange:w,onReset:F,onApply:C,onClose:()=>x(!1)}),e.jsx(P,{columns:j,dataSource:(s==null?void 0:s.data)||[],rowKey:"serviceId",pagination:!1,scroll:{x:"max-content",y:window.innerHeight*.82-120}}),e.jsx("div",{className:"flex justify-end",children:e.jsx(z,{current:(i==null?void 0:i.pageNo)+1||0,pageSize:10,onChange:a=>{I(a)},total:(s==null?void 0:s.totalPage)*10||1})})]})};export{Q as default};
