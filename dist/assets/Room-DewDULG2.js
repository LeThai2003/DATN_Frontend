import{a as k,c as m,ao as C,ap as M,aq as N,m as x,ah as b,j as e,L as P,i,K as I,P as z,ar as t,O as c,Q as r,as as d,at as T,T as A,U as D,V as E}from"./index-aTwABVSH.js";import{F as $,a as B}from"./FilterForm-BPxyaOJU.js";import{R as H}from"./EditOutlined-B1FSiga7.js";const Q=()=>{const a=k(),o=m(C),l=m(M),R=m(N),[h,p]=x.useState(!1);x.useEffect(()=>{a(b())},[]);const g=s=>{a(t.setSelectRoom(s)),a(c.setShowModal({type:r.ROOM,variant:"edit",data:s}))},u=s=>{a(t.setSelectRoom(s)),a(c.setShowModal({type:r.ROOM,variant:"delete",data:s}))},f=()=>{a(t.setSelectRoom(null)),a(c.setShowModal({type:r.ROOM,variant:"add",data:null}))},j=s=>{a(t.setSelectRoom(s)),a(c.setShowModal({type:r.ROOM,variant:"view",data:s}))},y=[{title:"Phòng",dataIndex:"name",key:"name"},{title:"Địa điểm",dataIndex:"location",key:"location",ellipsis:!0},{title:"Hành động",key:"actions",width:"150px",render:(s,n)=>e.jsxs(A,{size:"small",children:[e.jsx(i,{color:"primary",variant:"filled",icon:e.jsx(D,{}),onClick:()=>{j(n)},className:"",size:"small"}),e.jsx(i,{type:"primary",icon:e.jsx(H,{}),onClick:()=>{g(n)},className:"bg-blue-500 hover:bg-blue-600",size:"small"}),e.jsx(i,{danger:!0,icon:e.jsx(E,{}),onClick:()=>{u(n)},size:"small"})]})}],F=[{key:"search",type:"text",placeholder:"Tìm kiếm phòng khám"}],O=(s,n)=>{a(t.setFilterRoom({...o,[s]:n})),a(d())},S=()=>{a(t.setFilterRoom({...T})),a(d())},v=()=>{a(d())},w=s=>{a(t.setFilterRoom({...o,pageNo:s-1})),a(d())};return e.jsxs("div",{className:"relative p-2 bg-white rounded-lg flex flex-col gap-3",children:[R&&e.jsx(P,{}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Danh sách phòng khám"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{type:"primary",onClick:f,children:"+ Thêm mới"}),!h&&e.jsx($,{onClick:()=>p(!0)})]})]}),h&&e.jsx(B,{fields:F,values:o,onChange:O,onReset:S,onApply:v,onClose:()=>p(!1)}),e.jsx(I,{columns:y,dataSource:(l==null?void 0:l.data)||[],rowKey:"roomId",pagination:!1,scroll:{x:"max-content",y:window.innerHeight*.82-120}}),e.jsx("div",{className:"flex justify-end",children:e.jsx(z,{current:(o==null?void 0:o.pageNo)+1||0,pageSize:10,onChange:s=>{w(s)},total:(l==null?void 0:l.totalPage)*10||1})})]})};export{Q as default};
