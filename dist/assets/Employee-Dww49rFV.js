import{a as I,k as g,c as p,aa as P,ab as O,ac as z,ad as M,ae as R,af as A,ag as L,j as e,L as D,h as o,J as H,P as V,ah as l,M as c,N as r,ai as d,aj as $,ak as B,S as E,Q as j,al as Y}from"./index-9vhxH6Pd.js";import{F as _,a as K,C as Q}from"./FilterForm-CtQKhhuC.js";import{R as J}from"./EditOutlined-DfDe4u8h.js";const X=()=>{const a=I(),[x,y]=g.useState(!1),n=p(P),i=p(O),f=p(z);g.useEffect(()=>{a(M()),a(R()),a(A()),a(L())},[]);const k=t=>{a(l.setSelectEmployee(t)),a(c.setShowModal({type:r.EMPLOYEE,variant:"edit",data:t}))},F=t=>{a(l.setSelectEmployee(t)),a(c.setShowModal({type:r.EMPLOYEE,variant:"delete",data:t}))},v=()=>{a(l.setSelectEmployee(null)),a(c.setShowModal({type:r.EMPLOYEE,variant:"add",data:null}))},u=t=>{a(l.setSelectEmployee(t)),a(c.setShowModal({type:r.EMPLOYEE,variant:"view",data:t}))},C=[{title:"Họ tên",dataIndex:"fullName",key:"fullName",render:(t,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:s.avatar,alt:s.fullname,style:{width:32,height:32,borderRadius:"50%",objectFit:"cover"}}),e.jsx("span",{children:s.fullName})]})},{title:"Số điện thoại",dataIndex:"phoneNumber",key:"phoneNumber",width:120},{title:"Vai trò",dataIndex:"nameRole",key:"nameRole",render:t=>t=="ROLE_DOCTOR"?"Bác sĩ":"Quản lý"},{title:"Phòng khám",dataIndex:["roomDto","name"],key:"room"},{title:"Chuyên môn",dataIndex:["specialization","name"],key:"specialization"},{title:"Dịch vụ",dataIndex:"serviceDto",key:"serviceDto",width:100,render:t=>(t==null?void 0:t.length)||0,align:"center"},{title:"Trạng thái",key:"status",width:100,render:(t,s)=>{const m=s==null?void 0:s.status;let h="default";return m==="ACTIVE"?h="green":m==="DELETE"&&(h="red"),e.jsx(B,{color:h,children:m=="ACTIVE"?"Hoạt động":"Khóa"})}},{title:"Hành động",key:"actions",render:(t,s)=>(s==null?void 0:s.status)=="ACTIVE"?e.jsxs(E,{size:"small",children:[e.jsx(o,{color:"primary",variant:"filled",icon:e.jsx(j,{}),onClick:()=>{u(s)},className:"",size:"small"}),e.jsx(o,{type:"primary",icon:e.jsx(J,{}),onClick:()=>{k(s)},className:"bg-blue-500 hover:bg-blue-600",size:"small"}),e.jsx(o,{danger:!0,icon:e.jsx(Q,{size:16}),onClick:()=>{F(s)},size:"small"}),e.jsx("div",{className:"text-gray-300 text-lg",children:"|"}),e.jsx(Y,{title:"Xác nhận đặt lại mật khẩu",description:e.jsxs(e.Fragment,{children:["Bạn có chắc đặt lại mật khẩu cho tài khoản bác sĩ"," ",e.jsxs("b",{children:['"',s.fullName,'"']})," ?"]}),onConfirm:()=>{},okText:"Đồng ý",cancelText:"Hủy",children:e.jsx(o,{color:"danger",variant:"solid",size:"small",children:"Đặt lại mật khẩu"})})]}):e.jsx(E,{size:"small",children:e.jsx(o,{color:"primary",variant:"filled",icon:e.jsx(j,{}),onClick:()=>{u(s)},className:"",size:"small"})})}],N=[{key:"search",type:"text",placeholder:"Tìm bác sĩ"}],b=(t,s)=>{a(l.setFilterEmployee({...n,[t]:s})),a(d())},w=()=>{a(l.setFilterEmployee({...$})),a(d())},S=()=>{a(d())},T=t=>{a(l.setFilterEmployee({...n,pageNo:t-1})),a(d())};return e.jsxs("div",{className:"relative p-2 bg-white rounded-lg flex flex-col gap-3",children:[f&&e.jsx(D,{}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Danh sách bác sĩ"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{type:"primary",onClick:()=>{v()},children:"+ Thêm mới"}),!x&&e.jsx(_,{onClick:()=>y(!0)})]})]}),x&&e.jsx(K,{fields:N,values:n,onChange:b,onReset:w,onApply:S,onClose:()=>y(!1)}),e.jsx(H,{rowKey:"employeeId",columns:C,dataSource:i==null?void 0:i.data,pagination:!1,scroll:{x:"max-content",y:window.innerHeight*.82-160}}),e.jsx("div",{className:"flex justify-end",children:e.jsx(V,{current:(n==null?void 0:n.pageNo)+1||0,pageSize:10,onChange:t=>{T(t)},total:(i==null?void 0:i.totalPage)*10||1})})]})},W=()=>e.jsx("div",{children:e.jsx(X,{})});export{W as default};
